# VFS Shell Emulator (Stage 2)

## üß© –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

**VFS Shell Emulator** ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–∞—è —ç–º—É–ª—è—Ü–∏—è –∫–æ–º–∞–Ω–¥–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ (REPL), —Ä–∞–±–æ—Ç–∞—é—â–µ–π —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π (VFS).  
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã (`ls`, `cd`, `echo`, `conf-dump`, `exit`) –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç.

–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–æ—Å—Ç–æ–π –∫–æ–º–∞–Ω–¥–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----------|
| `exp(a: str)` | –†–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤–∏–¥–∞ `$VAR` –≤ —Å—Ç—Ä–æ–∫–µ. |
| `run_repl(vfs_name: str, params: dict)` | –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π REPL (—á—Ç–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è). |
| `run_start_script(script_path: str, vfs_name: str, params: dict)` | –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ. |
| `main()` | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã: –ø–∞—Ä—Å–∏—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –∑–∞–ø—É—Å–∫–∞–µ—Ç REPL –∏ —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç. |

---

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞

| –ê—Ä–≥—É–º–µ–Ω—Ç | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|---------------|-----------|
| `--vfs <path>` | ‚úÖ | –ü—É—Ç—å –∫ –∫–æ—Ä–Ω—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. |
| `--start-script <file>` | ‚ùå | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å–æ —Å—Ç–∞—Ä—Ç–æ–≤—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ). |

**–ü—Ä–∏–º–µ—Ä:**
```bash
python konf.py --vfs ./myscript --start-script myscript.vfs
```

---

## üß± –ö–æ–º–∞–Ω–¥—ã –æ–±–æ–ª–æ—á–∫–∏

| –ö–æ–º–∞–Ω–¥–∞ | –ê—Ä–≥—É–º–µ–Ω—Ç—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|------------|-----------|
| `ls [args]` | –ª—é–±—ã–µ | –í—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –≤—ã–∑–æ–≤–µ –∫–æ–º–∞–Ω–¥—ã `ls`. |
| `cd [args]` | –ø—É—Ç—å | –≠–º—É–ª–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –≤ –∫–∞—Ç–∞–ª–æ–≥. |
| `echo [text]` | —Å—Ç—Ä–æ–∫–∞ | –ü–µ—á–∞—Ç–∞–µ—Ç —Ç–µ–∫—Å—Ç —Å —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (`$VAR`). |
| `conf-dump` | ‚Äî | –í—ã–≤–æ–¥–∏—Ç –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —ç–º—É–ª—è—Ç–æ—Ä–∞. |
| `exit` | ‚Äî | –ó–∞–≤–µ—Ä—à–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ REPL –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç–∞. |

---


---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
```bash
$ python konf.py --vfs ./myscript
[DEBUG] Emulator parameters:
vfs_path=/path/to/myscript
start_script=
vfs_name=myscript
[INFO] Entering interactive mode. Type 'exit' to quit.
myvfs$ echo Hello $USER
Hello Max
myvfs$ conf-dump
vfs_path=/path/to/myscript
start_script=
vfs_name=myscript
myvfs$ exit
```

---
