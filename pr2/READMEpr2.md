# README.md

## Описание проекта

`konfpr2.py` — это минималистичное CLI‑приложение для анализа зависимостей Maven‑пакетов без использования менеджеров пакетов или сторонних библиотек. Приложение последовательно реализует требования нескольких этапов учебного проекта:

* **Этап 1** — конфигурация через параметры командной строки.
* **Этап 2** — получение данных о прямых зависимостях из POM файла.
* **Этап 5** — визуализация зависимостей в формате Graphviz (DOT) и генерация PNG.

Программа полностью основана на стандартной библиотеке Python.

---

## Возможности

### ✔ Этап 1. Конфигурация

* Принимает параметры:

  * Имя пакета (`groupId:artifactId`)
  * Версия
  * URL Maven‑репозитория или путь к локальному
  * Режим работы (`remote` или `local`)
* Выполняет обработку ошибок по всем параметрам
* Выводит параметры в виде `ключ=значение`

### ✔ Этап 2. Сбор данных

* Формирует путь к POM-файлу выбранного артефакта
* Загружает POM через HTTP или из локальной файловой системы
* Парсит XML POM и извлекает **прямые зависимости** из секции `<dependencies>`
* Выводит найденные зависимости в консоль

### ✔ Этап 5. Визуализация

* Генерирует Graphviz DOT файл со структурой зависимостей
* По желанию рендерит изображение PNG с помощью `dot`
* Каждый узел — отдельный артефакт
* Корневой пакет выделяется цветом

---

## Требования

* Python 3.8+
* (опционально) Установленный **Graphviz** для рендеринга: команда `dot`

---

## Установка

Просто скачайте файл `konfpr2.py` и сделайте его исполняемым:

```bash
chmod +x konfpr2.py
```

---

## Использование

### Базовый запуск

```bash
python konfpr2.py --package org.apache.commons:commons-lang3 --version 3.12.0 --repo https://repo1.maven.org/maven2 --mode remote
```

### Генерация DOT и PNG

```bash
python3 konfpr2.py \
  -p junit:junit \
  -v 4.13.2 \
  -r https://repo1.maven.org/maven2 \
  -m remote \
  --render
```

### Использование локального репозитория

```bash
python3 konfpr2.py \
  -p com.google.guava:guava \
  -v 31.1-jre \
  -r ~/.m2/repository \
  -m local
```

---

## Пример результата

При запуске программа выводит:

* параметры конфигурации
* источник загрузки POM
* список прямых зависимостей
* путь сохранения `.dot` файла
* (опционально) путь сгенерированного `.png` изображения

---

## Структура выходных файлов

* `artifact-version.dot` — граф в формате Graphviz
* `artifact-version.png` — визуализация зависимостей (при `--render`)

Пример строки графа:

```
"org.example:demo:1.0" -> "com.fasterxml.jackson.core:jackson-databind:2.15.2" [label="compile"];
```

---

## Возможные отличия от `mvn dependency:tree`

Вывод программы может отличаться от Maven по следующим причинам:

* Обрабатываются только **прямые** зависимости
* Не выполняется резолвинг свойств `${...}`
* Не учитываются профили
* Не используется `dependencyManagement`
* Версии транзитивных зависимостей не определяются

Эти отличия являются ожидаемыми и методичными для данного этапа проекта.

---

## Лицензия

Свободное использование в учебных целях.
